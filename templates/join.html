{% extends 'base.html' %}
{% block title %}
    Join
{% endblock title %}
{% block body %}
<div class="flex flex-col items-center w-[100%] h-[100%]">
    <div class="flex flex-col mt-5 w-[400px] md:w-[600px] absolute justify-center h-[500px] bg-zinc-900 rounded-xl">
        <p>{{message}}</p>
        <form action="" id="join-form" method="post" class="gap-y-3 flex flex-col items-center justify-center">
            <label class="text-2xl">Username</label>
            <input type="text" class="w-[90%] h-[40px] rounded-xl bg-zinc-700 text-white p-2" name="username">
            <label class="text-2xl">Room ID</label>
            <input type="text" name="room" class="w-[90%] h-[40px] rounded-xl bg-zinc-700 text-white p-2" id="room">
            <button type="submit" class="mt-3 bg-lime-700 hover:bg-lime-800 p-2 rounded-xl">Enter Room</button>
        </form>
    </div>
</div>
{% endblock body %}
{% block bottom %}
    <script>
        const joinForm = document.getElementById('join-form')
        joinForm.addEventListener('submit', (e)=>{
            e.preventDefault()
            const roomName = document.getElementById('room').value
            const actionUrl = "/chat/"+roomName
            joinForm.action = actionUrl
            joinForm.submit()
        })
    </script>
{% endblock bottom %}