{% extends 'base.html' %}
{% block title %}
    Join
{% endblock title %}
{% block body %}
<div class="flex flex-col gap-y-4 mt-3 items-center w-[100%] h-[100%]" >
    {% if message %}
    <div class="mb-3 w-[400px] md:w-[600px] h-[80px] opacity-70 bg-red-500 items-center justify-center flex flex-col rounded-xl" id="warning">
        <h2 class="text-xl text-black">{{message}}</h2>
    </div>
    {% endif %}
    <div class="flex flex-col w-[400px] md:w-[600px] justify-center h-[300px] bg-zinc-900 rounded-xl">
        <form action="" id="join-form" method="post" class="gap-y-3 flex flex-col items-center justify-center">
            <label class="text-2xl">Room ID</label>
            <input type="text" name="room" class="w-[90%] h-[40px] rounded-xl bg-zinc-700 text-white p-2" id="room">
            <button type="submit" class="mt-3 bg-lime-700 hover:bg-lime-800 p-2 rounded-xl">Enter Room</button>
        </form>
    </div>
</div>
{% endblock body %}
{% block bottom %}
    <script>
        const joinForm = document.getElementById('join-form')
        joinForm.addEventListener('submit', (e)=>{
            e.preventDefault()
            const roomName = document.getElementById('room').value
            const actionUrl = "/chat/"+roomName
            joinForm.action = actionUrl
            joinForm.submit()
        })
        setTimeout(()=>{
            document.getElementById('warning').style.display = 'none';
        },5000)
    </script>
{% endblock bottom %}